<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Budget App — Dashboard</title>
    <style>
        /* ===== Light, minty theme to match the mockup ===== */
        :root {
            --bg: #f5f9f6;
            /* page background */
            --panel: #ffffff;
            /* cards/panels */
            --ink: #1e2a23;
            /* primary text */
            --muted: #6b7f74;
            /* secondary text */
            --accent: #3baa6b;
            /* primary green */
            --accent-2: #4fa2d9;
            /* supporting blue */
            --accent-3: #69c08e;
            /* soft green gradient partner */
            --warn: #e58a3b;
            /* orange for negatives */
            --radius: 16px;
            --shadow: 0 6px 18px rgba(0, 0, 0, .06);
            --hairline: 1px solid rgba(0, 0, 0, .06);
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }

        body {
            margin: 0;
            font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
            color: var(--ink);
            background: radial-gradient(1000px 480px at 10% -10%, #eaf6ef 0%, transparent 60%), var(--bg);
        }

        /* ===== Header (light green strip like mockup) ===== */
        .site-header {
            position: sticky;
            top: 0;
            z-index: 20;
            background: #cdf2c6;
            border-bottom: var(--hairline);
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: .8rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }

        .brand {
            display: flex;
            gap: .7rem;
            align-items: center;
            font-weight: 800;
            letter-spacing: .2px;
        }

        .brand-name {
            font-weight: 800;
            letter-spacing: .2px;
        }

        .brand .logo {
            width: 34px;
            height: 34px;
            border-radius: 10px;
            color: #fff;
            font-weight: 900;
            display: grid;
            place-items: center;
            background: linear-gradient(135deg, var(--accent), var(--accent-3));
            box-shadow: var(--shadow);
        }

        .btn {
            appearance: none;
            border: 1px solid rgba(0, 0, 0, .08);
            background: #fff;
            color: var(--accent);
            padding: .5rem .85rem;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 6px 16px rgba(59, 170, 107, .12);
        }

        .btn.primary {
            background: var(--accent);
            color: #fff;
            border-color: transparent;
        }

        /* ===== Page layout (same structure as the first version) ===== */
        .wrap {
            max-width: 1200px;
            margin: 1rem auto 5.5rem;
            padding: 0 1rem;
            display: grid;
            gap: 1rem;
            grid-template-columns: 1fr;
        }

        @media (min-width: 960px) {
            .wrap {
                grid-template-columns: 2fr 1fr;
            }
        }

        .panel,
        .card {
            background: var(--panel);
            border-radius: var(--radius);
            padding: 1rem;
            box-shadow: var(--shadow);
        }

        .card h2,
        .panel h2 {
            margin: 0 0 .55rem;
            font-size: 1.05rem;
        }

        .grid {
            display: grid;
            gap: 1rem;
            grid-template-columns: 1fr;
        }

        .grid-cols-2 {
            grid-template-columns: 1fr;
        }

        @media (min-width: 960px) {
            .grid-cols-2 {
                grid-template-columns: 1fr 1fr;
            }
        }

        .kpi {
            display: grid;
            gap: 1rem;
            grid-template-columns: 1fr;
        }

        @media (min-width: 960px) {
            .kpi {
                grid-template-columns: 1.3fr 1fr;
            }
        }

        /* ===== Chart & legend ===== */
        /* .chart-wrap{ display:grid; gap:1rem; } */
        #pie {
            width: 100%;
            height: auto;
        }

        @media (min-width:520px) {
            .chart-wrap {
                grid-template-columns: 1fr 1fr;
                align-items: center;
            }
        }

        .legend {
            display: grid;
            gap: .55rem;
        }

        .legend .item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: .75rem;
        }

        .swatch {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            display: inline-block;
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .06);
        }

        /* ===== Progress bars ===== */
        .progress {
            height: 12px;
            background: #e7ece9;
            border-radius: 999px;
            overflow: hidden;
        }

        .progress>span {
            display: block;
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent), var(--accent-3));
            transition: width .9s ease;
        }

        .savings-fill {
            height: 8px;
            background: #e7ece9;
            border-radius: 999px;
            overflow: hidden;
        }

        .savings-fill>span {
            display: block;
            height: 100%;
            width: 0%;
            background: var(--accent-2);
            transition: width 1s ease;
        }

        /* ===== Piggy block ===== */
        .piggy {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 1rem;
            align-items: center;
        }

        .pig-svg {
            width: 96px;
            height: 96px;
        }

        /* ===== Forms & lists ===== */
        .field {
            display: grid;
            gap: .35rem;
            margin-bottom: .75rem;
        }

        label {
            font-weight: 700;
            font-size: .95rem;
        }

        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: .65rem .7rem;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, .12);
            background: #fff;
            color: var(--ink);
        }

        .list {
            margin: 0;
            padding: 0;
            list-style: none;
            display: grid;
            gap: .5rem;
        }

        .list li {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* ===== Table ===== */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        td,
        th {
            padding: .6rem .4rem;
            border-bottom: var(--hairline);
            text-align: left;
            font-size: .95rem;
        }

        th {
            color: var(--muted);
            font-weight: 700;
        }

        /* ===== Bottom mobile nav (like the mock) ===== */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 25;
            background: #fff;
            border-top: var(--hairline);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
        }

        .mobile-nav a {
            text-decoration: none;
            text-align: center;
            padding: .75rem 1rem;
            font-weight: 700;
            color: var(--accent);
        }

        .mobile-nav a.primary {
            background: var(--accent);
            color: #fff;
        }

        @media (min-width:960px) {
            .mobile-nav {
                display: none;
            }
        }

        .muted {
            color: var(--muted);
        }

        .divider {
            height: 1px;
            background: rgba(0, 0, 0, .06);
            margin: .75rem 0;
        }

        .logo.logo-car-svg {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: grid;
            place-items: center;
            background: #ffffff;
            box-shadow: 0 6px 18px rgba(0, 0, 0, .06);
            border: 1px solid rgba(0, 0, 0, .04);
        }

        .logo.logo-car-svg svg {
            width: 34px;
            height: 34px;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <div class="header-inner">
            <div class="brand">
                <!-- <span class="logo" aria-hidden="true">₵</span> -->
                <!-- Replace your current .logo with this: -->
                <div class="logo logo-car-svg" aria-label="Budget CAR logo">
                    <svg viewBox="0 0 80 80" role="img" aria-labelledby="logoTitle logoDesc">
                        <title id="logoTitle">Budget CAR logo</title>
                        <desc id="logoDesc">Green car silhouette with a gold coin to represent money and the CAR
                            acronym.</desc>

                        <!-- Coin (money) -->
                        <defs>
                            <linearGradient id="mintGrad" x1="0" y1="0" x2="1" y2="1">
                                <stop offset="0" stop-color="#3baa6b" />
                                <stop offset="1" stop-color="#69c08e" />
                            </linearGradient>
                            <radialGradient id="coinGrad" cx="35%" cy="35%" r="70%">
                                <stop offset="0%" stop-color="#fff4cc" />
                                <stop offset="45%" stop-color="#ffd76a" />
                                <stop offset="100%" stop-color="#e7b84b" />
                            </radialGradient>
                        </defs>

                        <!-- Soft mint tile background -->
                        <rect x="0" y="0" width="80" height="80" rx="14" fill="url(#mintGrad)" opacity="0.18" />

                        <!-- Coin behind car -->
                        <circle cx="56" cy="26" r="16" fill="url(#coinGrad)" stroke="rgba(0,0,0,.08)"
                            stroke-width="1" />
                        <text x="56" y="30" text-anchor="middle"
                            font-family="system-ui, -apple-system, Segoe UI, Roboto, sans-serif" font-weight="900"
                            font-size="12" fill="#5a3b00">$</text>

                        <!-- Car body -->
                        <g transform="translate(10,36)">
                            <path d="M8 16h36c2 0 3-1 3-3v-4c0-.7-.2-1.3-.6-1.9l-3.4-5.2C41.5 0.8 40.3 0 39 0H20c-1.3 0-2.5.8-3 2.0l-2 5.0H8
               c-2.2 0-4 1.8-4 4v2c0 1.7 1.3 3 3 3z" fill="#3baa6b" />
                            <!-- wheels -->
                            <circle cx="16" cy="16" r="4" fill="#1f2b25" />
                            <circle cx="36" cy="16" r="4" fill="#1f2b25" />
                            <circle cx="16" cy="16" r="2" fill="#b9c9c1" />
                            <circle cx="36" cy="16" r="2" fill="#b9c9c1" />
                        </g>

                        <!-- CAR letters (subtle, inside the car area) -->
                        <text x="26" y="53" font-family="system-ui, -apple-system, Segoe UI, Roboto, sans-serif"
                            font-weight="900" font-size="11" fill="#0f3b25" opacity=".9">CAR</text>
                    </svg>
                </div>
                <span class="brand-name">Budget CAR</span>
            </div>
            <div class="top-actions">
                <button class="btn">Log Out</button>
            </div>
        </div>
    </header>

    <!-- Main -->
    <main class="wrap">
        <!-- Left column (grid of cards) -->
        <section class="grid grid-cols-2" aria-label="Dashboard overview">
            <!-- Balances + donut -->
            <article class="card" aria-labelledby="balances-title">
                <h2 id="balances-title">My Balances</h2>
                <div class="chart-wrap">
                    <div>
                        <canvas id="pie" width="340" height="340" aria-label="Expense breakdown"></canvas>
                    </div>
                    <div class="legend" id="legend"></div>
                </div>
            </article>

            <!-- Weekly goal + piggy -->
            <article class="card" aria-labelledby="weekly-title">
                <h2 id="weekly-title">Weekly Goal</h2>
                <div class="progress" aria-hidden="true"><span id="goalBar"></span></div>
                <div class="divider"></div>
                <div class="piggy">
                    <svg class="pig-svg" viewBox="0 0 110 110" role="img" aria-label="Piggy bank">
                        <defs>
                            <clipPath id="pig-clip">
                                <ellipse cx="54" cy="60" rx="40" ry="28"></ellipse>
                            </clipPath>
                        </defs>
                        <ellipse cx="54" cy="60" rx="40" ry="28" fill="#f6b39b" />
                        <circle cx="74" cy="54" r="4" fill="#333" />
                        <ellipse cx="32" cy="65" rx="10" ry="7" fill="#f6b39b" />
                        <rect x="48" y="28" width="12" height="10" rx="2" fill="#f0d36a" />
                        <!-- savings fill (width adjusted by JS) -->
                        <rect id="pigFill" x="14" y="60" width="0" height="28" fill="#3baa6b"
                            clip-path="url(#pig-clip)" />
                        <circle cx="26" cy="72" r="2.4" fill="#333" />
                    </svg>
                    <div>
                        <div style="display:flex; justify-content:space-between; align-items:center">
                            <strong>Savings progress</strong>
                            <span class="muted" id="savingsLabel">$0 / $500</span>
                        </div>
                        <div class="savings-fill" aria-hidden="true"><span id="savingsBar"></span></div>
                        <p class="muted" style="margin:.55rem 0 0">Keep going — you’re close to your goal.</p>
                    </div>
                </div>
            </article>

            <!-- Add Expense -->
            <article class="card" aria-labelledby="add-title">
                <h2 id="add-title">Add Expense</h2>
                <form id="expenseForm" autocomplete="on">
                    <div class="field">
                        <label for="amount">Amount</label>
                        <input id="amount" name="amount" type="number" inputmode="decimal" placeholder="e.g., 12.99"
                            required />
                    </div>
                    <div class="field">
                        <label for="category">Category</label>
                        <select id="category" name="category" required>
                            <option value="" disabled selected>Select category</option>
                            <option>Textbooks</option>
                            <option>Tuition</option>
                            <option>Rent</option>
                            <option>Food</option>
                            <option>Entertainment</option>
                            <option>Transportation</option>
                            <option>Misc</option>
                        </select>
                    </div>
                    <button class="btn primary" type="submit">Add</button>
                </form>
            </article>

            <!-- Recent Transactions -->
            <article class="card" aria-labelledby="recent-title">
                <h2 id="recent-title">Recent Transactions</h2>
                <div role="region" aria-label="Recent transactions">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Item</th>
                                <th>Category</th>
                                <th style="text-align:right">Amount</th>
                            </tr>
                        </thead>
                        <tbody id="txBody"></tbody>
                    </table>
                </div>
            </article>
        </section>

        <!-- Right column (Income + Categories) -->
        <aside class="kpi" aria-label="Income and categories">
            <section class="panel" aria-labelledby="income-title">
                <h2 id="income-title">Income</h2>
                <ul class="list" id="incomeList">
                    <li><span>Scholarship</span><strong>$1,200.00</strong></li>
                    <li><span>Part-time Job</span><strong>$600.00</strong></li>
                </ul>
            </section>

            <section class="panel" aria-labelledby="cats-title">
                <h2 id="cats-title">Expense Categories</h2>
                <ul class="list">
                    <li>
                        <span>Textbooks</span>
                        <button class="muted" aria-label="Edit Textbooks" title="Edit category"
                            style="background:none;border:0;padding:0;margin:0;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor" />
                                <path
                                    d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </li>
                    <li>
                        <span>Rent</span>
                        <button class="muted" aria-label="Edit Rent" title="Edit category"
                            style="background:none;border:0;padding:0;margin:0;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor" />
                                <path
                                    d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </li>
                    <li>
                        <span>Food</span>
                        <button class="muted" aria-label="Edit Food" title="Edit category"
                            style="background:none;border:0;padding:0;margin:0;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor" />
                                <path
                                    d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </li>
                    <li>
                        <span>Entertainment</span>
                        <button class="muted" aria-label="Edit Entertainment" title="Edit category"
                            style="background:none;border:0;padding:0;margin:0;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" fill="currentColor" />
                                <path
                                    d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </section>
        </aside>
    </main>

    <!-- Bottom mobile nav -->
    <nav class="mobile-nav" aria-label="Primary">
        <a href="#" aria-current="page">Dashboard</a>
        <a href="#" class="primary" aria-label="Quick add">Add</a>
        <a href="#">Settings</a>
    </nav>

    <script>
        // === Demo data (same layout as first version) ===
        const data = {
            expenses: [
                { label: 'Tuition', value: 1200, color: '#4fa2d9' },
                { label: 'Food', value: 300, color: '#69c08e' },
                { label: 'Rent', value: 800, color: '#3baa6b' },
                { label: 'Entertainment', value: 180, color: '#e9b86d' },
            ],
            weeklyGoalPct: 72, // %
            savings: { current: 310, target: 500 },
            transactions: [
                { date: '2025-09-10', item: 'Meal Plan Top-Up', cat: 'Food', amount: -35.25 },
                { date: '2025-09-09', item: 'Textbook – Algorithms', cat: 'Textbooks', amount: -72.00 },
                { date: '2025-09-07', item: 'Movie Night', cat: 'Entertainment', amount: -14.50 },
                { date: '2025-09-06', item: 'Rent — September', cat: 'Rent', amount: -800.00 },
            ]
        };

        // Currency format
        const fmt = new Intl.NumberFormat(undefined, { style: 'currency', currency: 'USD' });

        // Legend
        const legend = document.getElementById('legend');
        legend.innerHTML = data.expenses.map(e => `
      <div class="item">
        <span><i class="swatch" style="background:${e.color}"></i> ${e.label}</span>
        <strong>${fmt.format(e.value)}</strong>
      </div>
    `).join('');

        // Donut chart (canvas, no external libs)
        (function drawPie() {
            const canvas = document.getElementById('pie');
            const ctx = canvas.getContext('2d');
            const total = data.expenses.reduce((s, e) => s + e.value, 0) || 1;
            const cx = canvas.width / 2, cy = canvas.height / 2, r = Math.min(cx, cy) - 10;
            let start = -Math.PI / 2;
            data.expenses.forEach(e => {
                const slice = (e.value / total) * Math.PI * 2;
                ctx.beginPath();
                ctx.moveTo(cx, cy);
                ctx.arc(cx, cy, r, start, start + slice);
                ctx.closePath();
                ctx.fillStyle = e.color;
                ctx.fill();
                start += slice;
            });
            // inner hole (donut)
            ctx.globalCompositeOperation = 'destination-out';
            ctx.beginPath(); ctx.arc(cx, cy, r * 0.55, 0, Math.PI * 2); ctx.fill();
            ctx.globalCompositeOperation = 'source-over';
            // center labels
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--ink').trim() || '#1e2a23';
            ctx.font = '700 18px system-ui, -apple-system, Segoe UI, Roboto';
            ctx.textAlign = 'center';
            ctx.fillText('Expenses', cx, cy - 6);
            ctx.font = '600 16px system-ui, -apple-system, Segoe UI, Roboto';
            ctx.fillText(fmt.format(total), cx, cy + 18);
        })();

        // Weekly goal bar
        const goalBar = document.getElementById('goalBar');
        requestAnimationFrame(() => goalBar.style.width = Math.max(0, Math.min(100, data.weeklyGoalPct)) + '%');

        // Piggy + savings bars
        const { current, target } = data.savings;
        const pct = Math.max(0, Math.min(100, Math.round((current / target) * 100)));
        document.getElementById('savingsLabel').textContent = `${fmt.format(current)} / ${fmt.format(target)}`;
        document.getElementById('savingsBar').style.width = pct + '%';
        // Fill width inside the pig
        const pigRect = document.getElementById('pigFill');
        pigRect.setAttribute('width', (80 * (pct / 100)).toFixed(2)); // SVG width from x=14..94

        // Transactions
        const txBody = document.getElementById('txBody');
        txBody.innerHTML = data.transactions.map(t => `
      <tr>
        <td>${t.date}</td>
        <td>${t.item}</td>
        <td>${t.cat}</td>
        <td style="text-align:right; color:${t.amount < 0 ? 'var(--warn)' : 'var(--accent)'}">${fmt.format(t.amount)}</td>
      </tr>
    `).join('');

        // Add Expense (demo)
        document.getElementById('expenseForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('amount').value || '0');
            const cat = document.getElementById('category').value || 'Misc';
            const row = { date: new Date().toISOString().slice(0, 10), item: 'Manual Entry', cat, amount: -Math.abs(amount || 0) };
            txBody.insertAdjacentHTML('afterbegin', `
        <tr>
          <td>${row.date}</td><td>${row.item}</td><td>${row.cat}</td>
          <td style="text-align:right; color:var(--warn)">${fmt.format(row.amount)}</td>
        </tr>
      `);
            e.target.reset();
        });
    </script>
</body>

</html>
